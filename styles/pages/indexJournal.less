/**
 * @file  plugins/themes/default/styles/pages/indexJournal.less
 *
 * Copyright (c) 2014-2019 Simon Fraser University
 * Copyright (c) 2003-2019 John Willinsky
 * Distributed under the GNU GPL v2. For full terms see the file docs/COPYING.
 *
 * @brief Styles applying to the front page of the journal
 * @link templates/frontend/pages/indexJournal.tpl
 */


.page_index_journal {

	.homepage_image,
	.journal-description,
	.cmp_announcements,
	.current_issue,
	.additional_content {
		grid-column-start: 1;
		grid-column-end: 8;
		padding-top: @triple;
		padding-bottom: @triple;
	}


	.homepage_image {
		width: 100%;
		height: auto;
		padding: @double;
	}

	.cmp_announcements {
		.media-list {
			padding-bottom: 0;
		}
	}

	.current_issue {
		display: grid;
		grid-template-columns: repeat(7, 100% / 7);
		grid-auto-rows: minmax(min-content, max-content);
		//margin-top: @base;

		.page-header {
			grid-column-start: 1;
			grid-column-end: 8;
			grid-row: 1;
			margin-top: -1 * @margin-text-headings;
			margin-bottom: @base-line-height;
		}

		.current_issue_title {
			grid-column-start: 1;
			grid-column-end: 8;
			grid-row: 2;
			font-size: @headings-font-size-4;
			margin-bottom: @base;
		}

		.obj_issue_toc {
			display: contents;

			.heading {
				display: contents;

				.cover {
					grid-column-start: 1;
					grid-column-end: 3;
					grid-row: 4;
					padding: 0;
					padding-right: @double;

					img {
						width: 100%;
						height: auto;
					}
				}

				.description {
					grid-column-start: 3;
					grid-column-end: 8;
					grid-row: 4;
					margin: 0;
					padding: 0;
					padding-left: @double;
				}

				.published {
					grid-column-start: 1;
					grid-column-end: 3;
					grid-row: 3;
					padding: 0;
					margin: 0;
					margin-bottom: @double * 1.5;
				}
			}
		}

		.sections {
			grid-column-start: 1;
			grid-column-end: 8;
			grid-row: 5;

			.section:first-child {
				margin-top: @base;
			}

			.section {
				padding-bottom: 0;

				.articles {
					.obj_article_summary {
						margin: 0;
						padding: 0;
					}

					.title {
						margin-top: @base;
						padding: 0;
					}

					.meta {
						padding: 0;
						margin-top: @base;

						.authors {
							padding-bottom: 0;
							margin-top: 0;
						}
					}

					.galleys_links {
						padding: 0;
						margin-top: @triple;
						margin-bottom: @double;
					}
				}
			}
		}

		.read-more {
			grid-column-start: 1;
			grid-column-end: 8;
			grid-row: 6;
		}
	}
}


// Hero Image Condition
.homepage_image when (@hero =true) {
	display: none;
}

// Switching Journal Description Position
& when (@descriptionTextState ='below') {
	.journal-description-above {
		display: none;
	}

	.journal-description-below {
		display: block;
	}
}

& when (@descriptionTextState ='above') {
	.journal-description-above {
		display: block;
	}

	.journal-description-below {
		display: none;
	}
}

& when (@descriptionTextState ='off') {

	.journal-description-above,
	.journal-description-below {
		display: none;
	}
}
